{
   "_id": "_design/players_list_updates",
   "_rev": "107-8cc9de7f1db94f5f710698a70d3ed656",
   "updates": {
       "update-players": "function (doc, req) {var body = JSON.parse(req.body); doc.players = body.players; return [doc, toJSON(req)];}",
       "update-player": "function (doc, req) {var body = JSON.parse(req.body); var id = body.id; var players = doc.players; for(var i = 0; i<players.length; i++){if(players[i].id == id){players[i] = body.player}}; return [doc, toJSON(req)];}"
   },
   "views": {
       "get-players": {
           "map": "function(doc) { if(doc._id == 'players_list'){emit(null, doc.players);} }"
       },
       "get-playerbyid": {
           "map": "function(doc) { if(doc._id == 'players_list'){var players = doc.players; for(var i=0; i<players.length; i++){emit([players[i].id], players[i]);}} }"
       }
   }
}